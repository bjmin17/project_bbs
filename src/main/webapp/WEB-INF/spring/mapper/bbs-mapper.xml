<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
 <mapper namespace="com.biz.bbs.persistence.BBsDao">
 
	
	<select id="selectAllPagination" resultType="bbsVO">
		<!-- SELECT * 
		FROM (
			SELECT /*+ FRIST_ROWS_100 */ROWNUM AS NUM, IP.* 
			FROM 
			( SELECT /*+ INDEX_DESC(P) */ * 
				FROM tbl_bbs B ) IP
			WHERE ROWNUM &lt;= #{pageVO.limit}
		) TBL
		WHERE NUM &gt;= #{pageVO.offset}
		 -->
		
		<!-- 
		SELECT TBL.*
		FROM(
			SELECT * 
			FROM tbl_bbs order by b_id
		) TBL
		LIMIT 10 OFFSET 0
		 -->
		SELECT *
		FROM `tbl_bbs`
		ORDER BY b_id DESC
		LIMIT #{pageVO.offset}, #{pageVO.limit}
			
		
		
	</select>
	
	<insert id="insert">
	
		INSERT INTO `secure`.`tbl_bbs`(
					`B_WRITER`,
					`B_DATE`,
					`B_TIME`,
					`B_SUBJECT`,
					`B_TEXT`
				) VALUES (
					#{b_writer},
					#{b_date},
					#{b_time},
					#{b_subject},
					#{b_text}
					)
					
	</insert> 
	
	<update id="update">
		UPDATE `secure`.`tbl_bbs`
				SET
				`B_SUBJECT` = #{b_subject},
				`B_TEXT` = #{b_text}
				
				WHERE `B_ID` = #{b_id}
		
	</update>
 
 </mapper> 